webpackJsonp([8],{"0z6u":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("footer",{staticClass:"py-4 bg-dark"},[t("p",{staticClass:"m-0 text-center text-white"},[this._v("Copyright Â© Your Website 2018")])])}]},i=n("VU/8")(null,a,!1,null,null,null);t.default=i.exports},"1/oy":function(e,t){},"6k2e":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),i=n.n(a),r=n("NYxO"),o={name:"SidebarItem",computed:i()({},Object(r.b)(["permission_routers","roles"])),methods:{logout:function(){this.$store.dispatch("FedLogOut").then(function(){location.reload()})},hasOneShowingChildren:function(e){return 1===e.filter(function(e){return!e.hidden}).length}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-navbar",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark fixed-top",attrs:{type:"dark",toggleable:"md"}},[n("div",{staticClass:"container"},[n("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),n("router-link",{staticClass:"navbar-brand",attrs:{tag:"a",to:"/"}},[e._v(" Edulink ")]),e._v(" "),n("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[n("b-navbar-nav",[e._l(e.permission_routers,function(t){return!t.hidden&&t.children?[!e.hasOneShowingChildren(t.children)||t.children[0].children||t.alwaysShow?n("b-nav-item-dropdown",{attrs:{text:t.name,right:""}},e._l(t.children,function(a){return a.hidden?e._e():n("router-link",{key:a.name,staticClass:"dropdown-item",attrs:{tag:"a",role:"menuitem",to:t.path+"/"+a.path}},[e._v(" \n\t\t\t\t\t\t\t\t\t"+e._s(a.meta.title)+"\n\t\t\t\t\t\t\t")])})):n("router-link",{key:t.name,staticClass:"nav-item",attrs:{tag:"li",to:t.path+"/"+t.children[0].path}},[n("a",{staticClass:"nav-link",attrs:{href:"#"}},[e._v(e._s(t.children[0].meta.title)+" ")])])]:e._e()})],2),e._v(" "),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-form",[n("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",type:"text",placeholder:"Search"}}),e._v(" "),n("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",type:"submit"}},[e._v("Search")])],1),e._v(" "),0==e.roles.length?n("b-nav-item",{attrs:{href:"/auth/google",right:""}},[e._v("Inicia Sesion")]):n("b-nav-item",{attrs:{right:""},on:{click:function(t){e.logout()}}},[e._v("Cerrar sesion")])],1)],1)],1)])},staticRenderFns:[]};var c=n("VU/8")(o,s,!1,function(e){n("eIQD")},"data-v-572bec82",null);t.default=c.exports},"7JXJ":function(e,t){},"9M+g":function(e,t){},AkUR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("6k2e"),i=(n("Wmfo"),n("0z6u")),r={name:"AppMain",components:{Navbar:a.default,PieDePagina:i.default},mounted:function(){this.addViewTags()},watch:{$route:function(){this.addViewTags()}},computed:{cachedViews:function(){return this.$store.state.tagsView.cachedViews}},methods:{generateRoute:function(){return!!this.$route.name&&this.$route},addViewTags:function(){var e=this.generateRoute();if(!e)return!1;this.$store.dispatch("addVisitedViews",e)}}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"app-wrapper"},[t("navbar"),this._v(" "),t("div",{staticClass:"main-container"},[t("section",{staticClass:"app-main",staticStyle:{"min-height":"100%"}},[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("keep-alive",{attrs:{include:this.cachedViews}},[t("router-view")],1)],1)],1)]),this._v(" "),t("pie-de-pagina")],1)},staticRenderFns:[]};var s=n("VU/8")(r,o,!1,function(e){n("7JXJ")},"data-v-4ecb5b35",null);t.default=s.exports},D3ws:function(e,t){},GfHa:function(e,t){},IcnI:function(e,t,n){"use strict";var a=n("7+uW"),i=n("NYxO"),r=n("//Fk"),o=n.n(r),s=n("YaEn");var c={state:{routers:s.b,addRouters:[]},mutations:{SET_ROUTERS:function(e,t){e.addRouters=t,e.routers=s.b.concat(t)}},actions:{GenerateRoutes:function(e,t){var n=e.commit;return new o.a(function(e){var a,i=t.roles;i.filter(function(e){return e.name.includes("administrador")});a=function e(t,n){return t.filter(function(t){return!!function(e,t){return!t.meta||!t.meta.roles||t.meta.roles.filter(function(t){return e.map(function(e){return e.name.includes(t)})[0]}).length>0}(n,t)&&(t.children&&t.children.length&&(t.children=e(t.children,n)),!0)})}(s.a,i),n("SET_ROUTERS",a),e()})}}},u=n("Gu7T"),l=n.n(u),d=n("BO1k"),h=n.n(d),f=n("d7EF"),m=n.n(f),v={state:{visitedViews:[],cachedViews:[]},mutations:{ADD_VISITED_VIEWS:function(e,t){e.visitedViews.some(function(e){return e.path===t.path})||(e.visitedViews.push({name:t.name,path:t.path,title:t.meta.title||"no-name"}),t.meta.noCache||e.cachedViews.push(t.name))},DEL_VISITED_VIEWS:function(e,t){var n=!0,a=!1,i=void 0;try{for(var r,o=h()(e.visitedViews.entries());!(n=(r=o.next()).done);n=!0){var s=r.value,c=m()(s,2),u=c[0];if(c[1].path===t.path){e.visitedViews.splice(u,1);break}}}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}var l=!0,d=!1,f=void 0;try{for(var v,p=h()(e.cachedViews);!(l=(v=p.next()).done);l=!0){var g=v.value;if(g===t.name){var w=e.cachedViews.indexOf(g);e.cachedViews.splice(w,1);break}}}catch(e){d=!0,f=e}finally{try{!l&&p.return&&p.return()}finally{if(d)throw f}}},DEL_OTHERS_VIEWS:function(e,t){var n=!0,a=!1,i=void 0;try{for(var r,o=h()(e.visitedViews.entries());!(n=(r=o.next()).done);n=!0){var s=r.value,c=m()(s,2),u=c[0];if(c[1].path===t.path){e.visitedViews=e.visitedViews.slice(u,u+1);break}}}catch(e){a=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw i}}var l=!0,d=!1,f=void 0;try{for(var v,p=h()(e.cachedViews);!(l=(v=p.next()).done);l=!0){var g=v.value;if(g===t.name){var w=e.cachedViews.indexOf(g);e.cachedViews=e.cachedViews.slice(w,g+1);break}}}catch(e){d=!0,f=e}finally{try{!l&&p.return&&p.return()}finally{if(d)throw f}}},DEL_ALL_VIEWS:function(e){e.visitedViews=[],e.cachedViews=[]}},actions:{addVisitedViews:function(e,t){(0,e.commit)("ADD_VISITED_VIEWS",t)},delVisitedViews:function(e,t){var n=e.commit,a=e.state;return new o.a(function(e){n("DEL_VISITED_VIEWS",t),e([].concat(l()(a.visitedViews)))})},delOthersViews:function(e,t){var n=e.commit,a=e.state;return new o.a(function(e){n("DEL_OTHERS_VIEWS",t),e([].concat(l()(a.visitedViews)))})},delAllViews:function(e){var t=e.commit,n=e.state;return new o.a(function(e){t("DEL_ALL_VIEWS"),e([].concat(l()(n.visitedViews)))})}}},p=n("vLgD");function g(e){return Object(p.a)({url:"/user/info",method:"get",params:{token:e}})}var w=n("TIfe"),_={state:{user:"",status:"",code:"",token:Object(w.a)(),name:"",avatar:"",introduction:"",roles:[],setting:{articlePlatform:[]}},mutations:{SET_CODE:function(e,t){e.code=t},SET_TOKEN:function(e,t){e.token=t},SET_INTRODUCTION:function(e,t){e.introduction=t},SET_SETTING:function(e,t){e.setting=t},SET_STATUS:function(e,t){e.status=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t}},actions:{LoginByUsername:function(e,t){var n=e.commit,a=t.username.trim();return new o.a(function(e,i){(function(e,t){var n={username:e,password:t};return Object(p.a)({url:"/login/login",method:"post",data:n})})(a,t.password).then(function(t){var a=t.data;n("SET_TOKEN",a.token),Object(w.c)(t.data.token),e()}).catch(function(e){i(e)})})},GetUserInfo:function(e){var t=e.commit,n=e.state;return new o.a(function(e,a){g(n.token).then(function(n){n.data||a("error");var i=n.data;console.log(i),i.roles&&i.roles.length>0?t("SET_ROLES",i.roles):a("getInfo: roles must be a non-null array !"),t("SET_NAME",i.firstName),t("SET_AVATAR",i.image),e(n)}).catch(function(e){a(e)})})},LogOut:function(e){var t=e.commit,n=e.state;return new o.a(function(e,a){(n.token,Object(p.a)({url:"/login/logout",method:"post"})).then(function(){t("SET_TOKEN",""),t("SET_ROLES",[]),Object(w.b)(),e()}).catch(function(e){a(e)})})},FedLogOut:function(e){var t=e.commit;return new o.a(function(e){t("SET_TOKEN",""),Object(w.b)(),e()})},ChangeRoles:function(e,t){var n=e.commit;return new o.a(function(e){n("SET_TOKEN",t),Object(w.c)(t),g(t).then(function(t){var a=t.data;n("SET_ROLES",a.roles),n("SET_NAME",a.name),n("SET_AVATAR",a.avatar),n("SET_INTRODUCTION",a.introduction),e()})})}}},b={visitedViews:function(e){return e.tagsView.visitedViews},cachedViews:function(e){return e.tagsView.cachedViews},permission_routers:function(e){return e.permission.routers},addRouters:function(e){return e.permission.addRouters},roles:function(e){return e.user.roles},token:function(e){return e.user.token}};a.default.use(i.a);var E=new i.a.Store({modules:{permission:c,tagsView:v,user:_},getters:b});t.a=E},Id91:function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},r=n("VU/8")({name:"App"},i,!1,null,null,null).exports,o=n("YaEn"),s=n("IcnI"),c=n("e6fC"),u=(n("Jmt5"),n("9M+g"),n("zL8q")),l=n.n(u),d=(n("tvR6"),n("h2zT"),n("Dd8w")),h=n.n(d),f=n("Y81h"),m=n.n(f),v=(n("UVIz"),n("TIfe"));m.a.configure({showSpinner:!1});var p=["/home","/about/index","/sugerencia/index"];o.c.beforeEach(function(e,t,n){m.a.start();var a=e.path.split("/");if(a.length>4&&"/"+a[1]+"/"+a[2]+"/"+a[3]=="/auth/google/callback"){var i=a[4];return Object(v.c)(i),n("/")}Object(v.a)()?0===s.a.getters.roles.length?s.a.dispatch("GetUserInfo").then(function(t){var a=t.data.roles;s.a.dispatch("GenerateRoutes",{roles:a}).then(function(){o.c.addRoutes(s.a.getters.addRouters),n(h()({},e,{replace:!0}))})}).catch(function(e){s.a.dispatch("FedLogOut").then(function(){u.Message.error("Verification failed, please login again"),n({path:"/"})})}):n():-1!==p.indexOf(e.path)?n():(n("/home"),m.a.done())}),o.c.afterEach(function(){m.a.done()}),a.default.use(c.a),a.default.use(l.a,{size:"medium"}),a.default.config.productionTip=!0,new a.default({el:"#app",router:o.c,store:s.a,components:{App:r},template:"<App/>"})},Opzk:function(e,t,n){var a={"./about/About.vue":["m+VT",5],"./enlace/publicar.vue":["PCoq",4],"./enlace/sugerencias.vue":["Wpou",6],"./errorPage/404.vue":["AejC",1],"./home/Home.vue":["XwkR",0],"./layout/Layout.vue":["AkUR"],"./layout/components/Navbar.vue":["6k2e"],"./layout/components/PieDePagina.vue":["0z6u"],"./layout/components/Preference.vue":["Wmfo"],"./sugerencia/index.vue":["Jt1Y",3],"./usuario/lista.vue":["8Lev",2]};function i(e){var t=a[e];return t?Promise.all(t.slice(1).map(n.e)).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}i.keys=function(){return Object.keys(a)},i.id="Opzk",e.exports=i},TIfe:function(e,t,n){"use strict";t.a=function(){return i.a.get(r)},t.c=function(e){return i.a.set(r,e)},t.b=function(){return i.a.remove(r)};var a=n("lbHh"),i=n.n(a),r="Base-Admin-Token"},UVIz:function(e,t){},Wmfo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"preference",components:{svgList:n("yRSu").a}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fixed-plugin"},[t("div",{staticClass:"dropdown show-dropdown"},[t("a",{attrs:{href:"#",role:"button",id:"ddwnPreference","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("svg-list",{attrs:{width:50,height:50,classes:["icon-list"]}})],1)]),this._v(" "),this._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"ddwnPreference"}},[t("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[this._v("Action")]),this._v(" "),t("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[this._v("Another action")]),this._v(" "),t("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[this._v("Something else here")])])}]};var r=n("VU/8")(a,i,!1,function(e){n("D3ws")},"data-v-cd897c1c",null);t.default=r.exports},YaEn:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var a=n("7+uW"),i=n("/ocq"),r=n("AkUR"),o=function(e){return function(){return n("Opzk")("./"+e+".vue")}};a.default.use(i.a);var s=[{path:"/404",component:o("errorPage/404"),hidden:!0},{path:"/401",component:o("errorPage/401"),hidden:!0},{path:"",component:r.default,redirect:"/home",hidden:!0,children:[{path:"home",component:o("home/Home"),name:"home",meta:{title:"Home",icon:"home"}}]},{path:"/about",component:r.default,redirect:"/about/index",children:[{path:"index",component:o("about/About"),name:"about",meta:{title:"About",icon:"about",noCache:!1}}]},{path:"/sugerencia",component:r.default,redirect:"/sugerencia/index",hidden:!0,children:[{path:"index",component:o("sugerencia/index"),name:"sugerencia",meta:{title:"Sugerencia",icon:"sugerencia",noCache:!0}}]}];t.c=new i.a({mode:"history",scrollBehavior:function(){return{y:0}},routes:s});var c=[{path:"/enlace",component:r.default,redirect:"/enlace/publicar",name:"Enlace",meta:{title:"Enlaces",icon:"enlace",roles:["admin","editor"]},children:[{path:"publicar",component:o("enlace/publicar"),name:"publicar",meta:{title:"Publicar"}},{path:"editar/:id",component:o("enlace/editar"),props:!0,name:"enlace_editar",hidden:!0},{path:"sugeridos",component:o("enlace/sugerencias"),name:"sugerencia_lista",meta:{title:"Sugerencias"}},{path:"sugerido/:id",component:o("sugerencia/editar"),props:!0,name:"editar",hidden:!0}]},{path:"/usario",component:r.default,redirect:"/usuario/lista",name:"usuario",meta:{title:"usuario",icon:"usuario",roles:["admin"]},children:[{path:"lista",component:o("usuario/lista"),name:"usuarios",meta:{title:"Usuarios"}},{path:"info/:id",component:o("usuario/info"),props:!0,name:"info_user",hidden:!0}]},{path:"*",redirect:"/404",hidden:!0}]},eIQD:function(e,t){},h2zT:function(e,t){},tvR6:function(e,t){},vLgD:function(e,t,n){"use strict";var a=n("//Fk"),i=n.n(a),r=n("mtWM"),o=n.n(r),s=n("zL8q"),c=(n.n(s),n("IcnI"),n("TIfe")),u=o.a.create({baseURL:"http://139.111.3.235:3000",timeout:5e3});u.interceptors.request.use(function(e){return Object(c.a)()&&(e.headers["X-Token"]=Object(c.a)()),e},function(e){console.log(e),i.a.reject(e)}),u.interceptors.response.use(function(e){return e},function(e){return console.log("err"+e),Object(s.Message)({message:e.message,type:"error",duration:5e3}),i.a.reject(e)}),t.a=u},yRSu:function(e,t,n){"use strict";var a={name:"svg-icon",props:{width:{type:Number,default:32},height:{type:Number,default:32},classes:Array,styles:Object},computed:{getStyle:function(){var e="";if(void 0!=this.styles)for(var t in this.styles)e+=t+": "+this.styles[t]+";";return e},getClasses:function(){var e="icon";if(void 0!=this.classes)for(var t in this.classes)e+=", "+this.classes[t];return e}},methods:{clickSvg:function(){this.$emit("clik-svg")}}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{class:this.getClasses,style:this.getStyle,attrs:{viewBox:"0 0 128 128",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:this.width,height:this.height},on:{click:this.clickSvg}},[t("path",{attrs:{d:"M1.585 12.087c0 6.616 3.974 11.98 8.877 11.98 4.902 0 8.877-5.364 8.877-11.98 0-6.616-3.975-11.98-8.877-11.98-4.903 0-8.877 5.364-8.877 11.98zM125.86.107H35.613c-1.268 0-2.114 1.426-2.114 2.852v18.255c0 1.712 1.057 2.853 2.114 2.853h90.247c1.268 0 2.114-1.426 2.114-2.853V2.96c0-1.711-1.057-2.852-2.114-2.852zM.106 62.86c0 6.615 3.974 11.979 8.876 11.979 4.903 0 8.877-5.364 8.877-11.98 0-6.616-3.974-11.98-8.877-11.98-4.902 0-8.876 5.364-8.876 11.98zM124.17 50.88H33.921c-1.268 0-2.114 1.425-2.114 2.851v18.256c0 1.711 1.057 2.852 2.114 2.852h90.247c1.268 0 2.114-1.426 2.114-2.852V53.73c0-1.426-.846-2.852-2.114-2.852zM.106 115.913c0 6.616 3.974 11.98 8.876 11.98 4.903 0 8.877-5.364 8.877-11.98 0-6.616-3.974-11.98-8.877-11.98-4.902 0-8.876 5.364-8.876 11.98zm124.064-11.98H33.921c-1.268 0-2.114 1.426-2.114 2.853v18.255c0 1.711 1.057 2.852 2.114 2.852h90.247c1.268 0 2.114-1.426 2.114-2.852v-18.255c0-1.427-.846-2.853-2.114-2.853z"}})])},staticRenderFns:[]},r=n("VU/8")(a,i,!1,null,null,null);t.a=r.exports},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.js.map